<div class="search-box">
  <mat-form-field>
    <mat-label>Zasięg</mat-label>
    <mat-select [(ngModel)]="radius">
      <mat-option [value]="0">0 km</mat-option>
      <mat-option [value]="1">1 km</mat-option>
      <mat-option [value]="2">2 km</mat-option>
      <mat-option [value]="3">3 km</mat-option>
      <mat-option [value]="4">4 km</mat-option>
      <mat-option [value]="5">5 km</mat-option>
      <mat-option [value]="10">10 km</mat-option>
      <mat-option [value]="15">15 km</mat-option>
    </mat-select>
  </mat-form-field>
</div>

@if (offers.isLoading()) {
  <mat-spinner />
} @else if (offers.error()) {
  <mat-error>Wystąpił błąd!</mat-error>
} @else if (offers.hasValue()) {
  <ul class="cards-container">
    <mat-list>
      @for (offer of offers.value().content; track offer.offerId) {
        <mat-list-item>
          <div class="row" matListItemTitle>
            <a [routerLink]="['/users/', offer.walkerId]">
              {{ offer.walkerName }}
            </a>

            <span>{{ offer.createdAt | date: 'DD.MM.YYYY' }}</span>
          </div>
          <div matListItemLine lines="3" class="row">
            <div>
              <span>Cena: {{ offer.priceCents }}zł</span>
              <span>{{ offer.description }}</span>
            </div>

            <button
              matButton="filled"
              class="reserve-btn"
              (click)="$event.stopImmediatePropagation(); openReservationDialog(offer)"
            >
              Zarezerwuj
            </button>
          </div>
        </mat-list-item>
      } @empty {
        <mat-list-item class="no-results">Brak wyprowadzaczy</mat-list-item>
      }
    </mat-list>
  </ul>
  <mat-paginator
    [length]="total()"
    [pageSize]="10"
    [pageSizeOptions]="[10]"
    aria-label="Wybierz stronę"
  />
}
